{"version":3,"sources":["Profile.js","Signin.js","App.js","index.js"],"names":["avatarFallbackImage","Profile","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","person","name","avatarUrl","_this$props","handleSignOut","userSession","console","log","isSignInPending","react_default","a","createElement","className","id","src","alt","description","onClick","bind","setState","Person","loadUserData","profile","Component","Signin","handleSignIn","appConfig","AppConfig","UserSession","App","e","preventDefault","redirectToSignIn","signUserOut","window","location","origin","isUserSignedIn","Profile_Profile","Signin_Signin","_this2","handlePendingSignIn","then","userData","history","replaceState","document","title","ReactDOM","render","BrowserRouter","App_App","getElementById"],"mappings":"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","file":"static/js/main.4509e7f0.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Person,\n} from 'blockstack';\n\nconst avatarFallbackImage = 'https://s3.amazonaws.com/onename/avatar-placeholder.png';\n\nexport default class Profile extends Component {\n  constructor(props) {\n  \tsuper(props);\n\n  \tthis.state = {\n  \t  person: {\n  \t  \tname() {\n          return 'Anonymous';\n        },\n  \t  \tavatarUrl() {\n  \t  \t  return avatarFallbackImage;\n  \t  \t},\n  \t  },\n  \t};\n  }\n\n  render() {\n    const { handleSignOut, userSession } = this.props;\n    const { person } = this.state;\n    console.log(person)\n    return (\n      !userSession.isSignInPending() ?\n      <div className=\"panel-welcome\" id=\"section-2\">\n        <div className=\"avatar-section\">\n          <img src={ person.avatarUrl() ? person.avatarUrl() : avatarFallbackImage } className=\"img-rounded avatar\" id=\"avatar-image\" alt=\"\"/>\n        </div>\n        <h1>你好, <span id=\"heading-name\">{ person.name() ? person.name() : 'Nameless Person' }</span>!</h1>\n        <h1>个人简介: <span id=\"heading-name\">{ person.description() ? person.description() : 'Nothing' }</span>!</h1>\n        <p className=\"lead\">\n          <button\n            className=\"btn btn-primary btn-lg\"\n            id=\"signout-button\"\n            onClick={ handleSignOut.bind(this) }\n          >\n            Logout\n          </button>\n        </p>\n      </div> : null\n    );\n  }\n\n  componentWillMount() {\n    const { userSession } = this.props;\n    this.setState({\n      person: new Person(userSession.loadUserData().profile),\n    });\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class Signin extends Component {\n\n  render() {\n    const { handleSignIn } = this.props;\n\n    return (\n      <div className=\"panel-landing\" id=\"section-1\">\n        <h1 className=\"landing-heading\">Hello, Blockstack!</h1>\n        <p className=\"lead\">\n          <button\n            className=\"btn btn-primary btn-lg\"\n            id=\"signin-button\"\n            onClick={ handleSignIn.bind(this) }\n          >\n            Sign In with VisualNext\n          </button>\n        </p>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Profile from './Profile.js';\nimport Signin from './Signin.js';\nimport {\n  UserSession,\n  AppConfig\n} from 'blockstack';\n\nconst appConfig = new AppConfig()\nconst userSession = new UserSession({ appConfig: appConfig })\n\nexport default class App extends Component {\n\n  constructor(){\n    super()\n    console.log(appConfig)\n    console.log(userSession)\n  }\n\n  handleSignIn(e) {\n    e.preventDefault();\n    userSession.redirectToSignIn();\n  }\n\n  handleSignOut(e) {\n    e.preventDefault();\n    userSession.signUserOut(window.location.origin);\n  }\n\n  render() {\n    return (\n      <div className=\"site-wrapper\">\n        <div className=\"site-wrapper-inner\">\n          { !userSession.isUserSignedIn() ?\n            <Signin userSession={userSession} handleSignIn={ this.handleSignIn } />\n            : <Profile userSession={userSession} handleSignOut={ this.handleSignOut } />\n          }\n        </div>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    if (userSession.isSignInPending()) {\n      userSession.handlePendingSignIn().then((userData) => {\n        window.history.replaceState({}, document.title, \"/\")\n        this.setState({ userData: userData})\n      });\n    }\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App.js';\n\n// Require Sass file so webpack can build it\nimport 'bootstrap/dist/css/bootstrap.css';\nimport'./styles/style.css';\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));"],"sourceRoot":""}